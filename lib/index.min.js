!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSideBar=void 0;var e=require("tslib"),t=e.__importDefault(require("lodash/startCase")),n=e.__importDefault(require("lodash/sortBy")),r=e.__importDefault(require("lodash/remove")),i=require("path"),o=e.__importDefault(require("glob")),u=function(e){var n=e.split(i.sep).shift()||e;return n=n.replace(/^\d+[.\-_ ]?/,""),(0,t.default)(n)};function l(e,l){var a=function(e,t){void 0===t&&(t=[]);var i=o.default.sync(e+"/**/*.md").map((function(n){var r=n.slice(e.length+1,-3);if(!(null==t?void 0:t.length)||-1===t.findIndex((function(e){return e===r})))return{path:r}}));return(0,r.default)(i,(function(e){return void 0===e})),(0,n.default)(i,["path"]).map((function(e){return(null==e?void 0:e.path)||""}))}(e,null==l?void 0:l.ignoreMDFiles),f=function(e){var t=e.replace(/^\.\//,""),n=t.split("/");if(n.length>1)return"/".concat(n.slice(1).join("/"));return""}(e),d=[];return a.forEach((function(e){var n,r=u(e);if(!(null===(n=null==l?void 0:l.ignoreDirectory)||void 0===n?void 0:n.length)||-1===(null==l?void 0:l.ignoreDirectory.findIndex((function(e){return u(e)===r})))){var o,a,c,s=(a=(o=e).split(i.sep).pop()||o,(c=a.lastIndexOf("--"))>-1&&(a=a.substring(0,c)),a=a.replace(/^\d+[.\-_ ]?/,""),(0,t.default)(a)),p=d.findIndex((function(e){return e.text===r})),v=f?"".concat(f,"/").concat(e):e;-1!==p?d[p].items.push({text:s,link:v}):d.push({text:r,items:[{text:s,link:v}]})}})),console.info("sidebar is created:",JSON.stringify(d)),d}exports.getSideBar=function(e,t){return void 0===e&&(e="./"),l(e,t)}}));
